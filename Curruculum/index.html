<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Constructor de Perfiles</title>
    <link rel="stylesheet" href="lib/cropper.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="main-wrapper">
        <aside class="input-column">
            <header class="app-header">
                <h1>Constructor de Perfiles</h1>
                <p>Currículum Vitae</p>
            </header>

            <form id="user-form">
                
                <div class="form-section">
                    <h2 class="section-title">Datos Principales</h2>
                    <div class="form-row">
                        <label for="user-name">Nombre Completo</label>
                        <input type="text" id="user-name" name="userName" required placeholder="Tu nombre aquí">
                    </div>
                    <div class="form-row">
                        <label for="user-photo">Fotografía</label>
                        <label for="user-photo" class="file-input-label">
                            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2.25 3 3-4L18 19H5z"/></svg>
                            <span id="file-status-text">ningún archivo seleccionado</span>
                        </label>
                        <input type="file" id="user-photo" name="userPhoto" accept="image/*">
                    </div>
                    <div id="photo-preview-container" style="display: none;">
                        <img id="photo-preview-img" src="#" alt="Vista previa">
                    </div>
                    <p class="file-status">Así se verá tu foto de perfil :)</p>
                </div>
                
                <div class="form-section">
                    <h2 class="section-title">Datos Personales</h2>
                    <div class="form-row"><label for="cedula">Cédula</label><input type="text" id="cedula" name="cedula" placeholder="Tu número de cédula"></div>
                    <div class="form-row"><label for="birth-date">Nacimiento</label><input type="text" id="birth-date" name="birthDate" placeholder="dd / mm / aaaa" onfocus="(this.type='date')" onblur="(this.type='text')"></div>
                    <div class="form-row"><label for="nationality">Nacionalidad</label><input type="text" id="nationality" name="nationality" placeholder="Tu nacionalidad"></div>
                </div>
                
                <div class="form-section">
                    <h2 class="section-title">Dirección y Contacto</h2>
                    <div class="form-row"><label for="location">Ubicación</label><input type="text" id="location" name="location" placeholder="Tu ubicación"></div>
                    <div class="form-row"><label for="phone">Teléfono(s)</label><input type="tel" id="phone" name="phone" placeholder="04________"></div>
                    <div class="form-row"><label for="email">Email</label><input type="email" id="email" name="email" placeholder="Tu correo electrónico"></div>
                </div>
                
                <div class="form-section"><h2 class="section-title">Formación Académica</h2><div id="education-container"></div><button type="button" id="add-education-btn">Añadir Formación</button></div>
                <div class="form-section" id="experience-fieldset"><h2 class="section-title">Experiencia Laboral</h2><div id="experience-fields-wrapper"><div id="experience-container"></div><button type="button" id="add-experience-btn">Añadir Experiencia</button></div><div class="optional-section-toggle"><input type="checkbox" id="no-experience-checkbox"><label for="no-experience-checkbox">Sin experiencia laboral</label></div></div>
                <div class="form-section" id="skills-fieldset"><div class="fieldset-header"><h2 class="section-title">Habilidades</h2><button type="button" class="omit-btn" data-target="skills-fieldset">Omitir</button></div><div class="fieldset-content"><div id="skills-container"></div><button type="button" id="add-skill-btn">Añadir Habilidad</button></div></div>
                <div class="form-section" id="languages-fieldset"><div class="fieldset-header"><h2 class="section-title">Idiomas</h2><button type="button" class="omit-btn" data-target="languages-fieldset">Omitir</button></div><div class="fieldset-content"><div id="languages-container"></div><button type="button" id="add-language-btn">Añadir Idioma</button></div></div>
                <div class="form-section"><h2 class="section-title">Cursos Realizados</h2><div id="courses-container"></div><button type="button" id="add-course-btn">Añadir Curso</button></div>
                <div class="form-section"><h2 class="section-title">Referencias Personales</h2><div id="references-container"></div><button type="button" id="add-reference-btn">Añadir Referencia</button></div>
                
                <button type="submit" class="save-button">Guardar Perfil</button>
            </form>
        </aside>
        
        <main class="output-column">
            <section class="dashboard-section"><h2 class="section-title">Perfiles Guardados</h2><div id="dashboard-container" class="dashboard"><p class="empty-dashboard-message">Aún no hay perfiles guardados.</p></div></section>
            <section class="preview-section">
                <h2 class="section-title">Vista Previa</h2>
                <div id="preview-controls">
                    <h3>Seleccionar Plantilla</h3>
                    <div id="template-gallery" class="template-gallery">
                        <div class="template-thumbnail selected" data-template-url="templates/template-01.html"><img src="assets/images/template-placeholder.png" alt="Vista previa de Plantilla 1"><p class="template-name">Clásica</p></div>
                        <div class="template-thumbnail selected" data-template-url="templates/template-02.html"><img src="assets/images/template-placeholder.png" alt="Vista previa de Plantilla 1"><p class="template-name">Clásica</p></div>
                    </div>
                    <button id="generate-pdf-btn" disabled>Generar PDF</button>
                </div>
                <div id="preview-area"><div id="preview-wrapper"></div></div>
            </section>
        </main>
    </div>
    
    <div id="cropper-modal" class="modal-overlay" style="display: none;"><div class="modal-content"><h2>Recortar Imagen</h2><div class="cropper-container"><img id="image-to-crop" src="" alt="Imagen para recortar"></div><div class="modal-actions"><button id="cancel-crop-btn" class="btn-secondary">Cancelar</button><button id="crop-image-btn" class="btn-primary">Recortar y Aceptar</button></div></div></div>
    <div id="loading-overlay" class="modal-overlay" style="display: none;"><div class="spinner"></div></div>

    <script src="lib/cropper.min.js"></script>
    <script src="lib/html2canvas.min.js"></script>
    <script src="lib/jspdf.min.js"></script>
    <script src="script.js"></script>
</body>
</html>